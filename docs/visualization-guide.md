# 可视化呈现方案指南

## 概述

AI需求计算器采用了多层次、多维度的可视化策略,让评估结果一目了然。

## 可视化组件架构

### 1. 评估总览仪表盘 (EvaluationDashboard)

**位置**: 评估结果页面顶部

**功能**:
- **综合评分展示**: 大号数字显示总体评分(0-100)
- **三维度子评分**: 资源/技术/商业价值的独立评分
- **多维雷达图**: 五个维度的可视化对比(预训练/微调/推理/技术/商业)
- **关键指标卡片**: 4个关键指标的快速展示,带趋势箭头
- **快速总结**: 三个模块的一句话总结

**设计特点**:
- 渐变背景突出综合评分
- 雷达图直观展示多维度平衡性
- 颜色编码(绿色=良好,橙色=警告,红色=问题)
- 趋势指示器(上升/下降箭头)

### 2. 资源可行性卡片 (ResourceCard)

**位置**: 资源可行性评估部分

**功能**:
- **环形进度条**: 显示显存满足度百分比(0-100%)
- **条形进度条**: 显示实际显存需求vs可用显存
- **状态指示**: 可行/不可行的明确标识
- **彩色边框**: 根据满足度自动变色(绿/黄/红)
- **建议列表**: 结构化的优化建议

**三个独立卡片**:
1. **预训练卡片**
   - 显存需求和满足度
   - 是否可行的判断
   - 优化建议

2. **微调卡片**
   - 显存需求和满足度
   - LoRA/QLoRA可行性标识
   - 微调方案建议

3. **推理卡片**
   - 显存需求和满足度
   - QPS和吞吐量数值展示
   - 量化选项对比表(FP16/INT8/INT4)
   - 每种量化方案的QPS和可行性

**视觉层次**:
```
┌─────────────────────────────────┐
│ [图标] 预训练      [✓ 可行]    │  ← 标题栏
├─────────────────────────────────┤
│    ◯ 85%          显存条        │  ← 进度展示
│   显存满足度       120/160 GB   │
├─────────────────────────────────┤
│ 建议:                           │  ← 建议列表
│ → 硬件资源充足...              │
└─────────────────────────────────┘
```

### 3. 技术方案评分仪表

**位置**: 技术方案合理性评估部分

**功能**:
- **评分条**: 分段彩色条(红/黄/蓝/绿)
- **动态指针**: 指向当前评分位置
- **问题高亮**: 橙色背景框展示发现的问题
- **建议高亮**: 蓝色背景框展示改进建议

**视觉设计**:
```
[━━━━━━━━━━━━━━━━━━━━━━━━━━━━━]
 红    黄      蓝        绿
       ↓ 75分
    ┌─────┐
    │ 75  │
    └─────┘
```

### 4. 商业价值图表 (BusinessValueChart)

**位置**: 商业价值评估部分

**功能**:
- **评分条**: 水平分段条,指针指向当前得分
- **风险卡片**: 红色调,列出潜在风险
- **机会卡片**: 绿色调,列出发展机会
- **价值指示**: 趋势图标和投资建议

**布局**:
```
┌─────────────────────────────────┐
│   评分条 [━━━━↓━━━━━]          │
│          65分                    │
├──────────────┬──────────────────┤
│ ⚠ 潜在风险  │ ✓ 发展机会        │
│ • 风险1     │ • 机会1           │
│ • 风险2     │ • 机会2           │
└──────────────┴──────────────────┘
```

### 5. 雷达图 (ScoreRadar)

**位置**: 总览仪表盘中

**功能**:
- 5个维度的多边形雷达图
- 每个顶点代表一个评估维度
- 填充区域大小代表整体表现
- 数据点用不同颜色区分

**维度**:
1. 预训练能力 (蓝色)
2. 微调能力 (紫色)
3. 推理能力 (青色)
4. 技术方案 (绿色)
5. 商业价值 (橙色)

## 颜色系统

### 状态颜色
- **成功/充足**: `green-600` (#16a34a)
- **警告/适中**: `amber-600` (#d97706)
- **错误/不足**: `red-600` (#dc2626)
- **信息提示**: `blue-600` (#2563eb)

### 背景颜色
- **成功背景**: `green-50` (浅绿)
- **警告背景**: `amber-50` (浅黄)
- **错误背景**: `red-50` (浅红)
- **信息背景**: `blue-50` (浅蓝)

### 主题色
- **主色调**: `primary` (自适应主题)
- **次要色**: `muted` (灰色系)

## 交互动画

### 1. 进度动画
- 环形进度条: 500ms缓动动画
- 条形进度条: 500ms宽度过渡
- 评分指针: 500ms位移动画

### 2. 悬停效果
- 卡片: 轻微阴影加深
- 按钮: 背景色变化
- 图标: 轻微缩放

### 3. 滚动行为
- 评估完成后自动滚动到结果区域
- 平滑滚动效果

## 响应式设计

### 桌面端 (lg及以上)
- 两列布局: 左侧输入表单,右侧评估结果
- 表单固定(sticky),结果滚动

### 平板端 (md-lg)
- 仍然是两列,但列宽调整
- 雷达图缩小尺寸

### 移动端 (sm及以下)
- 单列布局
- 图表适配小屏幕
- 卡片全宽显示

## 数据可视化最佳实践

### 1. 层次清晰
- 从总览到细节的渐进式呈现
- 先看仪表盘,再看具体模块

### 2. 信息密度
- 避免信息过载
- 每个卡片聚焦单一主题
- 使用折叠/展开控制详情

### 3. 即时反馈
- 评估完成后立即显示Toast
- 反馈按钮点击后有确认提示
- Loading状态清晰可见

### 4. 视觉引导
- 使用颜色编码快速识别状态
- 图标辅助理解
- 趋势箭头指示方向

## 组件文件结构

```
components/
├── circular-progress.tsx      // 环形进度条
├── resource-card.tsx          // 资源卡片
├── score-radar.tsx            // 雷达图
├── evaluation-dashboard.tsx   // 总览仪表盘
└── business-value-chart.tsx   // 商业价值图表
```

## 使用示例

### 环形进度条
```tsx
<CircularProgress
  percentage={85}
  label="显存满足度"
  size={140}
/>
```

### 资源卡片
```tsx
<ResourceCard
  title="推理"
  feasible={true}
  memoryUsagePercent={85}
  memoryRequired={120}
  memoryAvailable={160}
  suggestions={["资源充足"]}
  extraInfo={<div>QPS: 150</div>}
/>
```

### 雷达图
```tsx
<ScoreRadar
  scores={[
    { label: "预训练", value: 80, color: "#3b82f6" },
    { label: "微调", value: 75, color: "#8b5cf6" },
    ...
  ]}
  size={280}
/>
```

### 商业价值图表
```tsx
<BusinessValueChart
  score={75}
  risks={["风险1", "风险2"]}
  opportunities={["机会1", "机会2"]}
/>
```

## 性能优化

1. **懒加载**: 图表组件按需加载
2. **记忆化**: 使用React.memo防止不必要的重渲染
3. **CSS动画**: 使用transform和opacity优化性能
4. **虚拟滚动**: 长列表使用虚拟滚动(如需要)

## 可访问性

1. **语义化HTML**: 使用正确的标签结构
2. **ARIA标签**: 为交互元素添加aria-label
3. **键盘导航**: 支持Tab键导航
4. **对比度**: 确保文字颜色对比度符合WCAG标准
5. **屏幕阅读器**: 重要信息有文字描述

## 未来增强

1. **导出功能**: 将评估报告导出为PDF/PNG
2. **对比功能**: 多个评估结果横向对比
3. **历史趋势**: 显示历史评估的趋势图
4. **交互式图表**: 点击图表元素显示详情
5. **自定义主题**: 用户可选择配色方案
